local Library = {}

function Library:CreateWindow(title)
    local screenGui = Instance.new("ScreenGui", game.Players.LocalPlayer.PlayerGui)
    screenGui.Name = title

    local main = Instance.new("Frame", screenGui)
    main.Size = UDim2.new(0, 400, 0, 300)
    main.Position = UDim2.new(0.5, -200, 0.5, -150)
    main.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
    main.BorderSizePixel = 0
    main.Name = "Main"

    local titleLabel = Instance.new("TextLabel", main)
    titleLabel.Size = UDim2.new(1, 0, 0, 40)
    titleLabel.Text = title
    titleLabel.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
    titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    titleLabel.Font = Enum.Font.SourceSansBold
    titleLabel.TextSize = 24
    titleLabel.BorderSizePixel = 0

    local layout = Instance.new("UIListLayout", main)
    layout.Padding = UDim.new(0, 5)
    layout.SortOrder = Enum.SortOrder.LayoutOrder
    layout.HorizontalAlignment = Enum.HorizontalAlignment.Left

    function main:CreateTab(tabName)
        local tab = Instance.new("Frame", main)
        tab.Size = UDim2.new(1, -10, 0, 25)
        tab.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
        tab.BorderSizePixel = 0
        tab.Name = tabName

        local label = Instance.new("TextLabel", tab)
        label.Size = UDim2.new(1, 0, 1, 0)
        label.Text = tabName
        label.TextColor3 = Color3.fromRGB(255, 255, 255)
        label.Font = Enum.Font.SourceSans
        label.TextSize = 18
        label.BackgroundTransparency = 1

        function tab:CreateButton(text, callback)
            local button = Instance.new("TextButton", main)
            button.Size = UDim2.new(1, -10, 0, 30)
            button.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
            button.TextColor3 = Color3.fromRGB(255, 255, 255)
            button.Text = text
            button.Font = Enum.Font.SourceSans
            button.TextSize = 18
            button.MouseButton1Click:Connect(callback)
        end

        function tab:CreateToggle(text, callback)
            local toggled = false
            local toggle = Instance.new("TextButton", main)
            toggle.Size = UDim2.new(1, -10, 0, 30)
            toggle.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
            toggle.TextColor3 = Color3.fromRGB(255, 255, 255)
            toggle.Text = text .. ": OFF"
            toggle.Font = Enum.Font.SourceSans
            toggle.TextSize = 18

            toggle.MouseButton1Click:Connect(function()
                toggled = not toggled
                toggle.Text = text .. ": " .. (toggled and "ON" or "OFF")
                callback(toggled)
            end)
        end

        return tab
    end

    return main
end

return Library
